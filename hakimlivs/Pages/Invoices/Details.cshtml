@page
@model hakimlivs.Pages.Invoices.DetailsModel

@{
    ViewData["Title"] = "Details";
}
<div class="area-page">
    <div class="row">
        <h3>Faktura</h3>
        <p>Förnamn: @Model.User.FirstName</p>
        <p>Efternamn: @Model.User.LastName </p>
        <p>Email: @Model.User.Email</p>
        <p>Adress: @Model.User.Street @Model.User.StreetNumber</p> 
        <p>@Model.User.City @Model.User.PostalCode</p>

        <p>Order Nr: @Model.Order.Id</p>
        <div class="receipt">
            
        @foreach(var item in @Model.Order.OrderDetails)
        {
                <p>@item.Product.Name  x @item.Amount</p>
                decimal price = @item.Product.Price;
                decimal sum = @item.Amount * price;
                @Model.TotalSum += sum;
        <p>@sum kr</p>
            
        }
        <p>Total: @Model.TotalSum kr</p>

        
        </div>
        <p>OCR: @Model.User.Id</p>
          
        <p>Fakturadatum: @Model.Invoice.PrintDate.ToString("yyyy/MM/dd")</p>
        <p>Förfallodatum: @Model.Invoice.PrintDate.AddDays(30).ToString("yyyy/MM/dd")</p>

        <div>
            <a asp-page="./Edit" asp-route-id="@Model.Invoice.Id">Edit</a> |
            <a asp-page="./Index">Back to List</a>
        </div>
    </div>
</div>

