@page "{id:int}"
@model hakimlivs.Pages.Orders.DetailsModel
@inject ApplicationDbContext database
@{
}

<main class="content">
    @foreach (var details in Model.OrderDetails)
    {
        <img src=@details.Product.Image>
        <p>@details.Product.Name</p>
        <p>@details.Product.Price</p>
        <p>@details.Product.Category</p>
        <p>@details.Amount</p>
        int amount = @details.Amount;
        decimal price = @details.Product.Price;
        decimal sum = amount * price;
        <p>Total: @sum</p>
    }

    @if (Model.Index! < 0)
    {
        <form method="post">
            <button type="submit" asp-route-id=@Model.Order.Id>Skriv ut</button>
        </form>
    }
    else
    {
        <h3>Ordern är redan en faktura</h3>
    }
</main>